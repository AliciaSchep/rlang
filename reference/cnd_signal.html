<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Signal a condition — cnd_signal • rlang</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Signal a condition — cnd_signal" />

<meta property="og:description" content="Signal a condition to handlers that have been established on the
stack. Conditions signalled with cnd_signal() are assumed to be
benign. Control flow can resume normally once the condition has
been signalled (if no handler jumped somewhere else on the
evaluation stack). On the other hand, cnd_abort() treats the
condition as critical and will jump out of the distressed call
frame (see rst_abort()), unless a handler can deal with the
condition." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rlang</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.4.9003</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../reference/lifecycle.html">Life cycle</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    News
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Release notes</li>
    <li>
      <a href="https://www.tidyverse.org/articles/2019/01/rlang-0-3-1/">Version 0.3.1</a>
    </li>
    <li>
      <a href="https://www.tidyverse.org/articles/2018/10/rlang-0-3-0/">Version 0.3.0</a>
    </li>
    <li>
      <a href="https://www.tidyverse.org/articles/2018/03/rlang-0.2.0/">Version 0.2.0</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="../news/index.html">Change log</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/r-lib/rlang">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Signal a condition</h1>
    <small class="dont-index">Source: <a href='https://github.com/r-lib/rlang/blob/master/R/cnd.R'><code>R/cnd.R</code></a></small>
    <div class="hidden name"><code>cnd_signal.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Signal a condition to handlers that have been established on the
stack. Conditions signalled with <code>cnd_signal()</code> are assumed to be
benign. Control flow can resume normally once the condition has
been signalled (if no handler jumped somewhere else on the
evaluation stack). On the other hand, <code>cnd_abort()</code> treats the
condition as critical and will jump out of the distressed call
frame (see <code><a href='rst_abort.html'>rst_abort()</a></code>), unless a handler can deal with the
condition.</p>
    
    </div>

    <pre class="usage"><span class='fu'>cnd_signal</span>(<span class='no'>cnd</span>, <span class='no'>.cnd</span>, <span class='no'>.mufflable</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>cnd</th>
      <td><p>A condition object (see <code><a href='cnd.html'>cnd()</a></code>).</p></td>
    </tr>
    <tr>
      <th>.cnd, .mufflable</th>
      <td><p>These arguments are retired. <code>.cnd</code> has been
renamed to <code>cnd</code> and <code>.mufflable</code> no longer has any effect as
non-critical conditions are always signalled with a muffling
restart.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>If <code>.critical</code> is <code>FALSE</code>, this function has no side effects beyond
calling handlers. In particular, execution will continue normally
after signalling the condition (unless a handler jumped somewhere
else via <code><a href='rst_list.html'>rst_jump()</a></code> or by being <code><a href='exiting.html'>exiting()</a></code>). If <code>.critical</code> is
<code>TRUE</code>, the condition is signalled via <code><a href='https://www.rdocumentation.org/packages/base/topics/stop'>base::stop()</a></code> and the
program will terminate if no handler dealt with the condition by
jumping out of the distressed call frame.</p>
<p><code><a href='exiting.html'>calling()</a></code> handlers are called in turn when they decline to handle
the condition by returning normally. However, it is sometimes
useful for a calling handler to produce a side effect (signalling
another condition, displaying a message, logging something, etc),
prevent the condition from being passed to other handlers, and
resume execution from the place where the condition was
signalled. The easiest way to accomplish this is by jumping to a
restart point (see <code><a href='with_restarts.html'>with_restarts()</a></code>) established by the signalling
function. <code>cnd_signal()</code> always installs a muffle restart (see
<code><a href='cnd_muffle.html'>cnd_muffle()</a></code>).</p>
    
    <h2 class="hasAnchor" id="lifecycle"><a class="anchor" href="#lifecycle"></a>Lifecycle</h2>

    
    <ul>
<li><p>Modifying a condition object with <code>cnd_signal()</code> is defunct.
Consequently the <code>.msg</code> and <code>.call</code> arguments are retired and
defunct as of rlang 0.3.0.  In addition <code>.cnd</code> is renamed to
<code>cnd</code> and soft-deprecated.</p></li>
<li><p>The <code>.mufflable</code> argument is soft-deprecated and no longer has
any effect. Non-critical conditions are always signalled with a
muffle restart.</p></li>
<li><p>Creating a condition object with <code>cnd_signal()</code> is
soft-deprecated. Please use <code><a href='abort.html'>signal()</a></code> instead.</p></li>
</ul>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='abort.html'>abort()</a></code>, <code><a href='abort.html'>warn()</a></code> and <code><a href='abort.html'>inform()</a></code> for signalling typical
R conditions. See <code><a href='with_handlers.html'>with_handlers()</a></code> for establishing condition
handlers.</p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Creating a condition of type "foo"</span>
<span class='no'>cnd</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='cnd.html'>cnd</a></span>(<span class='st'>"foo"</span>)

<span class='co'># If no handler capable of dealing with "foo" is established on the</span>
<span class='co'># stack, signalling the condition has no effect:</span>
<span class='fu'>cnd_signal</span>(<span class='no'>cnd</span>)

<span class='co'># To learn more about establishing condition handlers, see</span>
<span class='co'># documentation for with_handlers(), exiting() and calling():</span>
<span class='fu'><a href='with_handlers.html'>with_handlers</a></span>(<span class='fu'>cnd_signal</span>(<span class='no'>cnd</span>),
  <span class='kw'>foo</span> <span class='kw'>=</span> <span class='fu'><a href='exiting.html'>calling</a></span>(<span class='kw'>function</span>(<span class='no'>c</span>) <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/cat'>cat</a></span>(<span class='st'>"side effect!\n"</span>))
)</div><div class='output co'>#&gt; side effect!</div><div class='output co'>#&gt; NULL</div><div class='input'>

<span class='co'># By default, cnd_signal() creates a muffling restart which allows</span>
<span class='co'># calling handlers to prevent a condition from being passed on to</span>
<span class='co'># other handlers and to resume execution:</span>
<span class='no'>undesirable_handler</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='exiting.html'>calling</a></span>(<span class='kw'>function</span>(<span class='no'>c</span>) <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/cat'>cat</a></span>(<span class='st'>"please don't call me\n"</span>))
<span class='no'>muffling_handler</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='exiting.html'>calling</a></span>(<span class='kw'>function</span>(<span class='no'>c</span>) {
  <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/cat'>cat</a></span>(<span class='st'>"muffling foo...\n"</span>)
  <span class='fu'><a href='cnd_muffle.html'>cnd_muffle</a></span>(<span class='no'>c</span>)
})

<span class='fu'><a href='with_handlers.html'>with_handlers</a></span>(<span class='kw'>foo</span> <span class='kw'>=</span> <span class='no'>undesirable_handler</span>,
  <span class='fu'><a href='with_handlers.html'>with_handlers</a></span>(<span class='kw'>foo</span> <span class='kw'>=</span> <span class='no'>muffling_handler</span>, {
    <span class='fu'>cnd_signal</span>(<span class='fu'><a href='cnd.html'>cnd</a></span>(<span class='st'>"foo"</span>))
    <span class='st'>"return value"</span>
  }))</div><div class='output co'>#&gt; muffling foo...</div><div class='output co'>#&gt; [1] "return value"</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>

      <li><a href="#lifecycle">Lifecycle</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Lionel Henry, <a href='http://hadley.nz'>Hadley Wickham</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.9000.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

